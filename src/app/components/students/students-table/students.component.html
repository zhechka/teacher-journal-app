<div class="student-wrapper">
  <div class="container" *ngIf="!formVisible; else formBlock">
    <table *ngIf="students" class="table">
      <tr class="table__row table__row_background_blue">
        <th
          appButtonOrderHide
          class="table__cell"
          *ngFor="let key of headerItems"
        >
          {{ key | uppercase }}
          <div
            class="table__button"
            [ngClass]="
              order > 0 ? 'table__button_arrow-up' : 'table__button_arrow-down'
            "
            (click)="changeSortingOrder(key)"
          ></div>
        </th>
      </tr>
      <tr
        appCellColor
        class="table__row"
        *ngFor="let student of students | sort: prop:order"
      >
        <td class="table__cell">{{ student.name }}</td>
        <td class="table__cell">{{ student.lastName }}</td>
        <td class="table__cell">{{ student.address }}</td>
        <td class="table__cell">{{ student.about }}</td>
      </tr>
    </table>

    <div class="button-plus" (click)="formVisible = true"></div>
  </div>
  <ng-template #formBlock>
    <app-student-form
      [nameOfInputs]="nameOfInputs"
      (addNewStudent)="saveNewStudent($event)"
      (changeViewToStudents)="changeViewToStudents($event)"
      ><h2 class="container__text">Add new student:</h2></app-student-form
    >
  </ng-template>
  <ng-template #loading>
    Loading stuff...
  </ng-template>
</div>
